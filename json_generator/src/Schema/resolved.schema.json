{"$id":"networks.schema.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Networks","type":"array","widget":"GenericList","items":{"title":"Network","description":"A Virtual Private Cloud (VPC) network implemented inside of Google's production network","type":"object","widget":"Accordions","additionalProperties":false,"required":["label"],"properties":{"name":{"title":"Name","description":"This field will be used to explitly name this resource","type":"string","examples":[{"name":"alpha","subnetworks":"......","routes":"......","firewall_rules":"....."},{"name":"bravo","subnetworks":"......","routes":"......","firewall_rules":"....."}]},"label":{"title":"Label","description":"This field will be used to combine with [environment] and [prefix] to generate a unique VPC name","type":"string","examples":[{"label":"alpha","subnetworks":"......","routes":"......","firewall_rules":"....."},{"label":"bravo","subnetworks":"......","routes":"......","firewall_rules":"....."}]},"pre_existing":{"title":"Pre-Existing","description":"If true, this resource should be pre-existing and not be created and/or updated.","type":"boolean","default":false},"project_id":{"title":"Project ID","deleteOnEmpty":true,"description":"If specified this 'Project ID' value will override the default value specified in the Terraform module","type":"string"},"environment":{"title":"Environment","deleteOnEmpty":true,"description":"If specified this 'Environment' value will override the default value specified in the Terraform module","type":"string"},"prefix":{"title":"Prefix","deleteOnEmpty":true,"description":"If specified this 'Prefix' value will override the default value specified in the Terraform module","type":"string"},"description":{"title":"Description","deleteOnEmpty":true,"description":"Description to be used for the created Network","type":"string"},"mtu":{"title":"MTU","description":"Maximum transmission unit (MTU) is the size of the largest IP packet that can be transmitted on this network.","type":"number","widget":"Select","enum":[1460,1500],"default":1460,"examples":[[{"name":"......","mtu":1460,"subnetworks":"......","routes":"......","firewall_rules":"....."},{"name":"......","mtu":1500,"subnetworks":"......","routes":"......","firewall_rules":"....."}]]},"private_google_access":{"title":"Private Google Access","description":"Private Google Access for is an alternative to connecting to Google APIs and services over the internet. Setting this to PRIVATE or RESTRICTED will deploy the required Cloud DNS and Routing functionality to enable this feature.","type":"string","widget":"Select","enum":["DISABLED","PRIVATE","RESTRICTED"],"oneOf":[{"title":"Disabled","description":"Does not deploy GCP configuration required for Private Google Access","const":"DISABLED"},{"title":"Private","description":"Enables API access to most Google APIs and services regardless of whether they are supported by VPC Service Controls.","const":"PRIVATE"},{"title":"Restricted","description":"Provides access to Cloud and Developer APIs that support VPC Service Controls. Blocks access to Google APIs and services that do not support VPC Service Controls.","const":"RESTRICTED"}],"default":"DISABLED","examples":[[{"name":"......","private_google_access":"DISABLED","subnetworks":"......","routes":"......","firewall_rules":"....."}],[{"name":"......","private_google_access":"PRIVATE","subnetworks":"......","routes":"......","firewall_rules":"....."}],[{"name":"......","private_google_access":"RESTRICTED","subnetworks":"......","routes":"......","firewall_rules":"....."}]]},"private_service_connection":{"title":"Private Service Connection","description":"Allows private consumption of services across VPC networks that belong to different groups, teams, projects, or organizations","type":"object","properties":{"subnet_allocation_method":{"type":"string","widget":"Select","enum":["IP_CIDR_RANGE","IP_CIDR_PREFIX","DISABLED"],"default":"DISABLED"}},"allOf":[{"title":"IP CIDR Range","description":"WORD WORDS WORDS - IP CIDR RANGE - WORDS WORDS WORDS","if":{"properties":{"subnet_allocation_method":{"type":"string","const":"IP_CIDR_RANGE"}}},"then":{"properties":{"export_custom_routes":{"title":"Export Custom Routes","description":"If true, the network will export custom routes to peer network.","type":"boolean","default":false},"import_custom_routes":{"title":"Import Custom Routes","description":"If true, the network will import custom routes from peer network.","type":"boolean","default":false},"ip_cidr_range":{"title":"IP CIDR Range","description":"IP space allocated to this subnetwork in CIDR format.","type":"string","examples":["192.168.0.0/24"],"pattern":"^(?:([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])){3}/(([0-9]|[1-2][0-9]|3[0-2])))$"}},"required":["ip_cidr_range"],"examples":[{"ip_cidr_range":"192.168.0.0/24","export_custom_routes":true,"import_custom_routes":false}]}},{"title":"IP CIDR Prefix","description":"WORD WORDS WORDS - IP CIDR PREFIX - WORDS WORDS WORDS","if":{"properties":{"subnet_allocation_method":{"type":"string","const":"IP_CIDR_PREFIX"}}},"then":{"properties":{"export_custom_routes":{"title":"Export Custom Routes","description":"If true, the network will export custom routes to peer network.","type":"boolean","default":false},"import_custom_routes":{"title":"Import Custom Routes","description":"If true, the network will import custom routes from peer network.","type":"boolean","default":false},"ip_cidr_prefix":{"title":"IP CIDR PRefix","description":"IP CIDR prefix used for this connection. Google will automtically allocated a IP CIDR Range based on the provided prefix","type":"integer","minimum":8,"maximum":30,"examples":[16],"default":16}},"required":["ip_cidr_prefix"],"examples":[{"ip_cidr_prefix":16,"export_custom_routes":true,"import_custom_routes":false}]}}],"examples":[[{"name":"......","private_service_connection":{"ip_cidr_range":"192.168.0.0/24","export_custom_routes":true,"import_custom_routes":false},"subnetworks":"......","routes":"......","firewall_rules":"....."}],[{"name":"......","private_service_connection":{"ip_cidr_prefix":"16","export_custom_routes":true,"import_custom_routes":false},"subnetworks":"......","routes":"......","firewall_rules":"....."}]]},"routing_mode":{"type":"string","widget":"Select","title":"Routing Mode","description":"The BGP routing mode for this network. ","enum":["GLOBAL","REGIONAL"],"oneOf":[{"title":"Global","description":"Cloud Routers in this network advertise subnetworks from all regions to their BGP peers, and program instances in all regions with the router's best learned BGP routes.","const":"GLOBAL"},{"title":"Regional","description":"Cloud Routers in this network advertise subnetworks from their local region only to their BGP peers, and program instances in their local region only with the router's best learned BGP routes. ","const":"REGIONAL"}],"default":"REGIONAL","examples":[[{"name":"......","routing_mode":"REGIONAL","subnetworks":"......","routes":"......","firewall_rules":"....."}],[{"name":"......","routing_mode":"GLOBAL","subnetworks":"......","routes":"......","firewall_rules":"....."}]]},"subnetworks":{"type":"array","widget":"GenericList","uniqueItems":true,"minItems":0,"maxItems":100,"items":{"type":"object","title":"Subnetwork","properties":{"purpose":{"type":"string","widget":"Select","description":"The purpose of this subnetwork.","enum":["PRIVATE","PRIVATE_SERVICE_CONNECT","INTERNAL_HTTPS_LOAD_BALANCER"],"default":"PRIVATE"}},"allOf":[{"title":"Private","description":"A subnetwork with purpose set to PRIVATE is a user-created subnetwork that is reserved for Google Compute Engine instances.","if":{"properties":{"purpose":{"type":"string","const":"PRIVATE"}}},"then":{"title":"Private","type":"object","widget":"Accordions","required":["ip_cidr_range","region"],"additionalProperties":false,"properties":{"name":{"title":"Name","type":"string","deleteOnEmpty":true,"description":"If this field is not provided ip_cidr_range value will be dynamically generated based on the ip_cidr_range. WARNING, if this field is not set changing the ip_cidr_range will change the name dynamically generated.","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63,"examples":["<prefix>-<environment>-<network>-subnet-<192-168-0-0-24>"]},"description":{"title":"Description","type":"string","deleteOnEmpty":true,"description":"Description of this subnetwork."},"region":{"title":"Region","type":"string","widget":"Select","examples":["US-CENTRAL1"],"default":"US-CENTRAL1","enum":["ASIA-EAST1","ASIA-EAST2","ASIA-NORTHEAST1","ASIA-NORTHEAST2","ASIA-NORTHEAST3","ASIA-SOUTH1","ASIA-SOUTH2","ASIA-SOUTHEAST1","ASIA-SOUTHEAST2","AUSTRALIA-SOUTHEAST1","AUSTRALIA-SOUTHEAST2","EUROPE-CENTRAL2","EUROPE-NORTH1","EUROPE-WEST1","EUROPE-WEST2","EUROPE-WEST3","EUROPE-WEST4","EUROPE-WEST6","NORTHAMERICA-NORTHEAST1","NORTHAMERICA-NORTHEAST2","SOUTHAMERICA-EAST1","US-CENTRAL1","US-EAST1","US-EAST4","US-WEST1","US-WEST2","US-WEST3","US-WEST4"]},"ip_cidr_range":{"title":"Primary CIDR Range","description":"IP space allocated to this subnetwork in CIDR format.","type":"string","examples":["192.168.0.0/24"],"pattern":"^(?:([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])){3}/(([0-9]|[1-2][0-9]|3[0-2])))$"},"purpose":{"title":"Purpose","type":"string","description":"The purpose of this subnetwork.","const":"PRIVATE"},"secondary_subnetworks":{"title":"Secondary Subnetworks","description":"Collection of Secondary Subnetworks that are assigned to this Primary Subnetwokr","type":"array","widget":"GenericList","minItems":0,"maxItems":30,"uniqueItems":true,"items":{"title":"Secondary Subnetwork","type":"object","additionalProperties":false,"properties":{"name":{"title":"Name","type":"string","deleteOnEmpty":true,"description":"If this field is not provided ip_cidr_range value will be dynamically generated based on the ip_cidr_range. WARNING, if this field is not set changing the ip_cidr_range will change the name dynamically generated.","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63,"examples":["<prefix>-<environment>-<network>-subnet-<192-168-0-0-24>"]},"nat_group_id":{"title":"Nat Group ID","description":"Cloud Nat configuration ID to inherrit configruations from.","type":"string","examples":["nat-group-alpha"]},"ip_cidr_range":{"title":"Secondary CIDR Range","description":"IP space allocated to this subnetwork in CIDR format.","type":"string","examples":["192.168.0.0/24"],"pattern":"^(?:([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])){3}/(([0-9]|[1-2][0-9]|3[0-2])))$"}},"required":["ip_cidr_range"]},"examples":[[{"name":"gke-services","ip_cidr_range":"192.168.0.0/24"},{"nat_group_id":"nat-group-alpha","ip_cidr_range":"192.168.1.0/24"},{"ip_cidr_range":"192.168.2.0/24"}]]},"private_ip_google_access":{"title":"Private IP Google Access","type":"string","description":"Provide access to Google Cloud APIs from this subnet for instances without a public ip address.","widget":"Select","enum":["ENABLED","DISABLED"],"default":"ENABLED"},"log_config":{"title":"Log Config","description":"Denotes the logging options for the subnetwork flow logs. If logging is enabled logs will be exported to Stackdriver.","type":"object","properties":{"metadata":{"title":"Metadata","description":"Configures whether metadata fields should be added to the reported logs. ","type":"string","widget":"Select","enum":["INCLUDE_ALL_METADATA","EXCLUDE_ALL_METADATA","CUSTOM_METADATA"],"oneOf":[{"title":"Include All Metadata","description":"Include all metadata in VPC flow logs","const":"INCLUDE_ALL_METADATA"},{"title":"Exclude All Metadata","description":"Exclude all metadata in VPC flow logs","const":"EXCLUDE_ALL_METADATA"},{"title":"Custom Metadata","description":"Include only specific attributes for metadata in VPC flow logs","const":"CUSTOM_METADATA"}],"default":"INCLUDE_ALL_METADATA"}},"allOf":[{"title":"Include / Exclude All Metadata","if":{"not":{"properties":{"metadata":{"type":"string","const":"CUSTOM_METADATA"}}}},"then":{"additionalProperties":false,"type":"object","properties":{"enabled":{"title":"Enabled","type":"boolean","description":"Enable/disable VPC Flow Logs for this subnet.","default":false},"aggregation_interval":{"title":"Aggregation Interval","type":"string","widget":"Select","description":"Toggles the aggregation interval for collecting flow logs. Increasing the interval time will reduce the amount of generated flow logs for long lasting connections.","enum":["INTERVAL_5_SEC","INTERVAL_30_SEC","INTERVAL_1_MIN","INTERVAL_5_MIN","INTERVAL_10_MIN","INTERVAL_15_MIN"],"default":"INTERVAL_5_SEC"},"flow_sampling":{"title":"Flow Sampling","type":"integer","description":"Set the sampling rate of VPC flow logs within the subnetwork where 100 means all collected logs are reported, 50 means half of all collected logs are reported and 0 means no logs are reported.","minimum":0,"maximum":100,"default":50},"metadata":{"enum":["INCLUDE_ALL_METADATA","EXCLUDE_ALL_METADATA"],"title":"Metadata","description":"Configures whether metadata fields should be added to the reported logs. ","type":"string","widget":"Select","oneOf":[{"title":"Include All Metadata","description":"Include all metadata in VPC flow logs","const":"INCLUDE_ALL_METADATA"},{"title":"Exclude All Metadata","description":"Exclude all metadata in VPC flow logs","const":"EXCLUDE_ALL_METADATA"},{"title":"Custom Metadata","description":"Include only specific attributes for metadata in VPC flow logs","const":"CUSTOM_METADATA"}],"default":"INCLUDE_ALL_METADATA"}}}},{"title":"Include Custom Metadata","if":{"properties":{"metadata":{"type":"string","const":"CUSTOM_METADATA"}}},"then":{"additionalProperties":false,"type":"object","properties":{"enabled":{"title":"Enabled","type":"boolean","description":"Enable/disable VPC Flow Logs for this subnet.","default":false},"aggregation_interval":{"title":"Aggregation Interval","type":"string","widget":"Select","description":"Toggles the aggregation interval for collecting flow logs. Increasing the interval time will reduce the amount of generated flow logs for long lasting connections.","enum":["INTERVAL_5_SEC","INTERVAL_30_SEC","INTERVAL_1_MIN","INTERVAL_5_MIN","INTERVAL_10_MIN","INTERVAL_15_MIN"],"default":"INTERVAL_5_SEC"},"flow_sampling":{"title":"Flow Sampling","type":"integer","description":"Set the sampling rate of VPC flow logs within the subnetwork where 100 means all collected logs are reported, 50 means half of all collected logs are reported and 0 means no logs are reported.","minimum":0,"maximum":100,"default":50},"metadata":{"const":"CUSTOM_METADATA","title":"Metadata","description":"Configures whether metadata fields should be added to the reported logs. ","type":"string","widget":"Select","enum":["INCLUDE_ALL_METADATA","EXCLUDE_ALL_METADATA","CUSTOM_METADATA"],"oneOf":[{"title":"Include All Metadata","description":"Include all metadata in VPC flow logs","const":"INCLUDE_ALL_METADATA"},{"title":"Exclude All Metadata","description":"Exclude all metadata in VPC flow logs","const":"EXCLUDE_ALL_METADATA"},{"title":"Custom Metadata","description":"Include only specific attributes for metadata in VPC flow logs","const":"CUSTOM_METADATA"}],"default":"INCLUDE_ALL_METADATA"},"metadata_fields":{"title":"Metadata Fields","description":"List of supported fields can be found at https://cloud.google.com/vpc/docs/flow-logs#record_format","type":"array","widget":"SimpleList","uniqueItems":true,"items":{"title":"Metadata Field","type":"string","widget":"Select","enum":["src_instance","src_instance.project_id","src_instance.vm_name","src_instance.region","src_instance.zone","dest_instance","dest_instance.project_id","dest_instance.vm_name","dest_instance.region","dest_instance.zone","src_vpc","src_vpc.vpc_name","src_vpc.project_id","src_vpc.subnetwork_name","dest_vpc","dest_vpc.vpc_name","dest_vpc.project_id","dest_vpc.subnetwork_name","src_location","src_location.continent","src_location.country","src_location.region","src_location.city","src_location.asn","dest_location","dest_location.continent","dest_location.country","dest_location.region","dest_location.city","dest_location.asn","src_gke_details","src_gke_details.cluster","src_gke_details.cluster.cluster_name","src_gke_details.cluster.cluster_location","src_gke_details.pod","src_gke_details.pod.pod_name","src_gke_details.pod.pod_namespace","src_gke_details.service","src_gke_details.service.service_name","src_gke_details.service.service_namespace","dest_gke_details","dest_gke_details.cluster","dest_gke_details.cluster.cluster_name","dest_gke_details.cluster.cluster_location","dest_gke_details.pod","dest_gke_details.pod.pod_name","dest_gke_details.pod.pod_namespace","dest_gke_details.service","dest_gke_details.service.service_name","dest_gke_details.service.service_namespace"],"anyOf":[{"title":"Source Instance","anyOf":[{"title":"src_instance","description":"If the source of the connection was a VM located on the same VPC, this field is populated with VM instance details. In a Shared VPC configuration, project_id corresponds to the project that owns the instance, usually the service project.","const":"src_instance"},{"title":"src_instance.project_id","description":"ID of the project containing the VM","const":"src_instance.project_id"},{"title":"src_instance.vm_name","description":"Instance name of the VM","const":"src_instance.vm_name"},{"title":"src_instance.region","description":"Region of the VM","const":"src_instance.region"},{"title":"src_instance.zone","description":"Zone of the VM","const":"src_instance.zone"}]},{"title":"Destination Instance","anyOf":[{"title":"dest_instance","description":"If the destination of the connection was a VM located on the same VPC, this field is populated with VM instance details. In a Shared VPC configuration, project_id corresponds to the project that owns the instance, usually the service project.","const":"dest_instance"},{"title":"dest_instance.project_id","description":"ID of the project containing the VM","const":"dest_instance.project_id"},{"title":"dest_instance.vm_name","description":"Instance name of the VM","const":"dest_instance.vm_name"},{"title":"dest_instance.region","description":"Region of the VM","const":"dest_instance.region"},{"title":"dest_instance.zone","description":"Zone of the VM","const":"dest_instance.zone"}]},{"title":"Source VPC","anyOf":[{"title":"src_vpc","description":"If the source of the connection was a VM located on the same VPC, this field is populated with VPC network details. In a Shared VPC configuration, project_id corresponds to that of the host project.","const":"src_vpc"},{"title":"src_vpc.project_id","description":"ID of the project containing the VPC","const":"src_vpc.project_id"},{"title":"src_vpc.vpc_name","description":"VPC on which the VM is operating","const":"src_vpc.vpc_name"},{"title":"src_vpc.subnetwork_name","description":"Subnetwork on which the VM is operating","const":"src_vpc.subnetwork_name"}]},{"title":"Destination VPC","anyOf":[{"title":"dest_vpc","description":"If the destination of the connection was a VM located on the same VPC, this field is populated with VPC network details. In a Shared VPC configuration, project_id corresponds to that of the host project.","const":"dest_vpc"},{"title":"dest_vpc.project_id","description":"ID of the project containing the VPC","const":"dest_vpc.project_id"},{"title":"dest_vpc.vpc_name","description":"VPC on which the VM is operating","const":"dest_vpc.vpc_name"},{"title":"dest_vpc.subnetwork_name","description":"Subnetwork on which the VM is operating","const":"dest_vpc.subnetwork_name"}]},{"title":"Source Geographic Location","anyOf":[{"title":"src_location","description":"If the source of the connection was external to the VPC, this field is populated with available location metadata.","const":"src_location"},{"title":"src_location.continent","description":"Continent for external endpoints","const":"src_location.continent"},{"title":"src_location.country","description":"Country for external endpoints, represented as ISO 3166-1 Alpha-3 country codes.","const":"src_location.country"},{"title":"src_location.region","description":"Region for external endpoints","const":"src_location.region"},{"title":"src_location.city","description":"City for external endpoints","const":"src_location.city"},{"title":"src_location.asn","description":"The autonomous system number (ASN) of the external network to which this endpoint belongs.","const":"src_location.asn"}]},{"title":"Destination Geographic Location","anyOf":[{"title":"dest_location","description":"If the destination of the connection was external to the VPC, this field is populated with available location metadata.","const":"dest_location"},{"title":"dest_location.continent","description":"Continent for external endpoints","const":"dest_location.continent"},{"title":"dest_location.country","description":"Country for external endpoints, represented as ISO 3166-1 Alpha-3 country codes.","const":"dest_location.country"},{"title":"dest_location.region","description":"Region for external endpoints","const":"dest_location.region"},{"title":"dest_location.city","description":"City for external endpoints","const":"dest_location.city"},{"title":"dest_location.asn","description":"The autonomous system number (ASN) of the external network to which this endpoint belongs.","const":"dest_location.asn"}]},{"title":"Source Google Kubernetes","anyOf":[{"title":"src_gke_details","description":"GKE metadata for source endpoints. Only available if the endpoint is GKE.","const":"src_gke_details"},{"title":"src_gke_details.cluster","description":"GKE cluster metadata.","const":"src_gke_details.cluster"},{"title":"src_gke_details.cluster.cluster_name","description":"GKE cluster name.","const":"src_gke_details.cluster.cluster_name"},{"title":"src_gke_details.cluster.cluster_location","description":"Location of the cluster. This can be a zone or a region depending if the cluster is zonal or regional.","const":"src_gke_details.cluster.cluster_location"},{"title":"src_gke_details.pod","description":"GKE Pod metadata, populated when the source or destination of the traffic is a Pod.","const":"src_gke_details.pod"},{"title":"src_gke_details.pod.pod_name","description":"Name of the Pod.","const":"src_gke_details.pod.pod_name"},{"title":"src_gke_details.pod.pod_namespace","description":"Namespace of the Pod.","const":"src_gke_details.pod.pod_namespace"},{"title":"src_gke_details.service","description":"GKE Service metadata, populated in Service endpoints only. The record contains up to two Services. If there are more than two relevant Services, this field contains a single Service with a special MANY_SERVICES marker.","const":"src_gke_details.service"},{"title":"src_gke_details.service.service_name","description":"Name of the Service. If there are more than two relevant Services, the field is set to a special MANY_SERVICES marker.","const":"src_gke_details.service.service_name"},{"title":"src_gke_details.service.service_namespace","description":"Namespace of the Service.","const":"src_gke_details.service.service_namespace"}]},{"title":"Destination Google Kubernetes","anyOf":[{"title":"dest_gke_details","description":"GKE metadata for destination endpoints. Only available if the endpoint is GKE.","const":"dest_gke_details"},{"title":"dest_gke_details.cluster","description":"GKE cluster metadata.","const":"dest_gke_details.cluster"},{"title":"dest_gke_details.cluster.cluster_name","description":"GKE cluster name.","const":"dest_gke_details.cluster.cluster_name"},{"title":"dest_gke_details.cluster.cluster_location","description":"Location of the cluster. This can be a zone or a region depending if the cluster is zonal or regional.","const":"dest_gke_details.cluster.cluster_location"},{"title":"dest_gke_details.pod","description":"GKE Pod metadata, populated when the source or destination of the traffic is a Pod.","const":"dest_gke_details.pod"},{"title":"dest_gke_details.pod.pod_name","description":"Name of the Pod.","const":"dest_gke_details.pod.pod_name"},{"title":"dest_gke_details.pod.pod_namespace","description":"Namespace of the Pod.","const":"dest_gke_details.pod.pod_namespace"},{"title":"dest_gke_details.service","description":"GKE Service metadata, populated in Service endpoints only. The record contains up to two Services. If there are more than two relevant Services, this field contains a single Service with a special MANY_SERVICES marker.","const":"dest_gke_details.service"},{"title":"dest_gke_details.service.service_name","description":"Name of the Service. If there are more than two relevant Services, the field is set to a special MANY_SERVICES marker.","const":"dest_gke_details.service.service_name"},{"title":"dest_gke_details.service.service_namespace","description":"Namespace of the Service.","const":"dest_gke_details.service.service_namespace"}]}]},"default":[],"examples":[["src_vpc","dest_vpc"],["src_instance.vm_name","dest_instance.vm_name"]]}},"required":["metadata_fields"]}}],"examples":[{"status":"ENABLED","aggregation_interval":"INTERVAL_1_MIN"},{"status":"ENABLED","metadata":"EXCLUDE_ALL_METADATA","aggregation_interval":"INTERVAL_1_MIN"},{"status":"ENABLED","metadata":"CUSTOM_METADATA","metadata_fields":["connection","src_vpc","dest_vpc"]}]},"cloud_nat":{"title":"Cloud Nat","description":"This section specifies how Primary and Secondary Subnetworks should be configured to NAT egress traffic.","type":"object","additionalProperties":false,"properties":{"subnetworks_to_nat":{"title":"Subnetworks to NAT","description":"Used to determine if NAT should be applied to either Primary, Secondary or Combination of each Subnetworks<br>&ensp;&ensp;&ensp;&ensp;This section is only implemented if subnetworks_to_nat is set to SELECTED_PRIMARY_SUBNETWORKS_SELECTED_SECONDARY_SUBNETWORKS in the parent cloud_nat section.","type":"string","widget":"Select","enum":["DISABLED","ALL_SUBNETWORKS","PRIMARY_SUBNETWORK","PRIMARY_SUBNETWORK_SELECTED_SECONDARY_SUBNETWORKS","ALL_SECONDARY_SUBNETWORKS","SELECTED_SECONDARY_SUBNETWORKS"],"oneOf":[{"title":"Disabled","description":"Cloud NAT should not be applied to either the primary or secondary subnetworks.<br>&ensp;&ensp;&ensp;&ensp;This does not override cloud_nat configurations in the parent object when set to ALL_PRIMARY_SUBNETWORKS_ALL_SECONDARY_SUBNETWORKS.","const":"DISABLED"},{"title":"Primary and All Secondary Subnetworks","description":"Cloud NAT Should be applied to the Primary and All Secondary Subnetworks.","const":"ALL_SUBNETWORKS"},{"title":"Primary Subnetwork","description":"Cloud NAT Should be applied to the Primary Subnetwork.","const":"PRIMARY_SUBNETWORK"},{"title":"Primary Subnetwork and Selected Secondary Subnetworks","description":"Cloud NAT Should be applied to the Primary and Selected Secondary Subnetworks.","const":"PRIMARY_SUBNETWORK_SELECTED_SECONDARY_SUBNETWORKS"},{"title":"All Secondary Subnetworks","description":"Cloud NAT Should be applied to All Secondary Subnetworks.","const":"ALL_SECONDARY_SUBNETWORKS"},{"title":"Selected Secondary Subnetworks","description":"Cloud NAT Should be applied to Selected Secondary Subnetworks.","const":"SELECTED_SECONDARY_SUBNETWORKS"}],"default":"DISABLED"},"nat_group_id":{"title":"Nat Group ID","description":"This ID is used to match the corresponding cloud nat configuration in the parent object.","type":"string","examples":["nat-group-alpha"]}},"allOf":[{"title":"DISABLED","if":{"properties":{"subnetworks_to_nat":{"type":"string","const":"DISABLED"}}},"then":{"required":["subnetworks_to_nat"]}},{"title":"ALL_SUBNETWORKS","if":{"properties":{"subnetworks_to_nat":{"type":"string","const":"ALL_SUBNETWORKS"}}},"then":{"required":["subnetworks_to_nat","nat_group_id"]}},{"title":"PRIMARY_SUBNETWORK","if":{"properties":{"subnetworks_to_nat":{"type":"string","const":"PRIMARY_SUBNETWORK"}}},"then":{"required":["subnetworks_to_nat","nat_group_id"]}},{"title":"PRIMARY_SUBNETWORK_SELECTED_SECONDARY_SUBNETWORKS","if":{"properties":{"subnetworks_to_nat":{"type":"string","const":"PRIMARY_SUBNETWORK_SELECTED_SECONDARY_SUBNETWORKS"}}},"then":{"required":["subnetworks_to_nat","nat_group_id"]}},{"title":"ALL_SECONDARY_SUBNETWORKS","if":{"properties":{"subnetworks_to_nat":{"type":"string","const":"ALL_SECONDARY_SUBNETWORKS"}}},"then":{"required":["subnetworks_to_nat"]}},{"title":"SELECTED_SECONDARY_SUBNETWORKS","if":{"properties":{"subnetworks_to_nat":{"type":"string","const":"SELECTED_SECONDARY_SUBNETWORKS"}}},"then":{"required":["subnetworks_to_nat"]}}],"examples":[{},{"subnetworks_to_nat":"ALL_SUBNETWORKS","nat_group_id":"nat-group-alpha"},{"subnetworks_to_nat":"SELECTED_SECONDARY_SUBNETWORKS","nat_group_id":"nat-group-alpha"},{"subnetworks_to_nat":"ALL_SECONDARY_SUBNETWORKS"}]}},"examples":[{"ip_cidr_range":"192.168.0.0/24","region":"US-CENTRAL1","private_ip_google_access":"ENABLED","cloud_nat":{"subnetworks_to_nat":"SELECTED_SECONDARY_SUBNETWORKS"},"purpose":"PRIVATE","log_config":{"enabled":true,"metadata":"INCLUDE_ALL_METADATA","flow_sampling":50,"metadata_fields":[],"aggregation_interval":"INTERVAL_5_SEC"},"secondary_subnetworks":[{"ip_cidr_range":"192.168.1.0/24","nat_group_id":"nat-group-alpha"}]},{"ip_cidr_range":"192.168.16.0/24","region":"US-CENTRAL1","private_ip_google_access":"ENABLED","cloud_nat":{"subnetworks_to_nat":"ALL_SUBNETWORKS","nat_group_id":"nat-group-alpha"},"purpose":"PRIVATE","log_config":{"enabled":true,"metadata":"INCLUDE_ALL_METADATA","flow_sampling":50,"metadata_fields":[],"aggregation_interval":"INTERVAL_5_SEC"},"secondary_subnetworks":[{"ip_cidr_range":"192.168.17.0/24"}]}]}},{"title":"Private Service Connect","description":"A subnetwork with purpose set to PRIVATE_SERVICE_CONNECT is a user-created subnetwork that is reserved for Private Service Connect Internal Load Balancing.","if":{"properties":{"purpose":{"type":"string","const":"PRIVATE_SERVICE_CONNECT"}},"required":["purpose"]},"then":{"title":"Private Service Connect","type":"object","widget":"Accordions","additionalProperties":false,"required":["ip_cidr_range","region"],"properties":{"name":{"title":"Name","type":"string","deleteOnEmpty":true,"description":"If this field is not provided ip_cidr_range value will be dynamically generated based on the ip_cidr_range. WARNING, if this field is not set changing the ip_cidr_range will change the name dynamically generated.","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63,"examples":["<prefix>-<environment>-<network>-subnet-<192-168-0-0-24>"]},"description":{"title":"Description","type":"string","deleteOnEmpty":true,"description":"Description of this subnetwork."},"region":{"title":"Region","type":"string","widget":"Select","examples":["US-CENTRAL1"],"default":"US-CENTRAL1","enum":["ASIA-EAST1","ASIA-EAST2","ASIA-NORTHEAST1","ASIA-NORTHEAST2","ASIA-NORTHEAST3","ASIA-SOUTH1","ASIA-SOUTH2","ASIA-SOUTHEAST1","ASIA-SOUTHEAST2","AUSTRALIA-SOUTHEAST1","AUSTRALIA-SOUTHEAST2","EUROPE-CENTRAL2","EUROPE-NORTH1","EUROPE-WEST1","EUROPE-WEST2","EUROPE-WEST3","EUROPE-WEST4","EUROPE-WEST6","NORTHAMERICA-NORTHEAST1","NORTHAMERICA-NORTHEAST2","SOUTHAMERICA-EAST1","US-CENTRAL1","US-EAST1","US-EAST4","US-WEST1","US-WEST2","US-WEST3","US-WEST4"]},"ip_cidr_range":{"title":"Primary CIDR Range","description":"IP space allocated to this subnetwork in CIDR format.","type":"string","examples":["192.168.0.0/24"],"pattern":"^(?:([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])){3}/(([0-9]|[1-2][0-9]|3[0-2])))$"},"purpose":{"title":"Purpose","type":"string","const":"PRIVATE_SERVICE_CONNECT"}},"examples":[{"region":"US-CENTRAL1","ip_cidr_range":"192.168.0.0/24","purpose":"PRIVATE_SERVICE_CONNECT"}]}},{"title":"Internal HTTP(s) Load Balancer","description":"A subnetwork with purpose set to INTERNAL_HTTPS_LOAD_BALANCER is a user-created subnetwork that is reserved for Internal HTTP(S) Load Balancing.","if":{"properties":{"purpose":{"type":"string","const":"INTERNAL_HTTPS_LOAD_BALANCER"}},"required":["purpose"]},"then":{"title":"Ineranl HTTP(s) Load Balancer","type":"object","widget":"Accordions","additionalProperties":false,"required":["ip_cidr_range","region"],"properties":{"name":{"title":"Name","type":"string","deleteOnEmpty":true,"description":"If this field is not provided ip_cidr_range value will be dynamically generated based on the ip_cidr_range. WARNING, if this field is not set changing the ip_cidr_range will change the name dynamically generated.","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63,"examples":["<prefix>-<environment>-<network>-subnet-<192-168-0-0-24>"]},"description":{"title":"Description","type":"string","deleteOnEmpty":true,"description":"Description of this subnetwork."},"region":{"title":"Region","type":"string","widget":"Select","examples":["US-CENTRAL1"],"default":"US-CENTRAL1","enum":["ASIA-EAST1","ASIA-EAST2","ASIA-NORTHEAST1","ASIA-NORTHEAST2","ASIA-NORTHEAST3","ASIA-SOUTH1","ASIA-SOUTH2","ASIA-SOUTHEAST1","ASIA-SOUTHEAST2","AUSTRALIA-SOUTHEAST1","AUSTRALIA-SOUTHEAST2","EUROPE-CENTRAL2","EUROPE-NORTH1","EUROPE-WEST1","EUROPE-WEST2","EUROPE-WEST3","EUROPE-WEST4","EUROPE-WEST6","NORTHAMERICA-NORTHEAST1","NORTHAMERICA-NORTHEAST2","SOUTHAMERICA-EAST1","US-CENTRAL1","US-EAST1","US-EAST4","US-WEST1","US-WEST2","US-WEST3","US-WEST4"]},"ip_cidr_range":{"title":"Primary CIDR Range","description":"IP space allocated to this subnetwork in CIDR format.","type":"string","examples":["192.168.0.0/24"],"pattern":"^(?:([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])){3}/(([0-9]|[1-2][0-9]|3[0-2])))$"},"purpose":{"title":"Purpose","type":"string","const":"INTERNAL_HTTPS_LOAD_BALANCER"},"role":{"title":"Role","type":"string","enum":["BACKUP","ACTIVE"],"default":"ACTIVE"}},"examples":[{"region":"US-CENTRAL1","ip_cidr_range":"192.168.0.0/24","purpose":"INTERNAL_HTTPS_LOAD_BALANCER","role":"ACTIVE"},{"region":"US-CENTRAL1","ip_cidr_range":"192.168.1.0/24","purpose":"INTERNAL_HTTPS_LOAD_BALANCER","role":"BACKUP"}]}}]}},"cloud_nat":{"type":"object","title":"Cloud Nat","properties":{"subnetworks_to_nat":{"type":"string","widget":"Select","enum":["ALL_PRIMARY_SUBNETWORKS","ALL_PRIMARY_SUBNETWORKS_ALL_SECONDARY_SUBNETWORKS","SELECTED_PRIMARY_SUBNETWORKS_SELECTED_SECONDARY_SUBNETWORKS","DISABLED"],"default":"DISABLED"}},"allOf":[{"title":"All Primary and Secondary Subnetworks","description":"Automatically nat all egress traffic from all primary and secondary subnetworks in this network","if":{"properties":{"subnetworks_to_nat":{"type":"string","const":"ALL_PRIMARY_SUBNETWORKS_ALL_SECONDARY_SUBNETWORKS"}},"required":["subnetworks_to_nat"]},"then":{"type":"object","additionalProperties":false,"properties":{"endpoint_independent_mapping":{"title":"Endpoint Independent Mapping","type":"string","widget":"Select","enum":["ENABLED","DISABLED"],"description":"Enable endpoint-independent mapping for the NAT (as defined in RFC 5128).","default":"DISABLED"},"subnetworks_to_nat":{"type":"string","enum":["ALL_PRIMARY_SUBNETWORKS_ALL_SECONDARY_SUBNETWORKS","ALL_PRIMARY_SUBNETWORKS","DISABLED"],"default":"DISABLED"},"log_config":{"type":"string","widget":"Select","enum":["ALL","ERRORS_ONLY","TRANSLATIONS_ONLY","DISABLED"],"default":"DISABLED","description":"Enable logging for the NAT. Logs will be exported to Stackdriver."},"min_ports_per_vm":{"type":"integer","default":64,"description":"Minimum number of ports allocated to a VM from this NAT."},"udp_idle_timeout":{"type":"integer","default":30,"description":"Timeout in seconds for UDP connections."},"icmp_idle_timeout":{"type":"integer","default":30,"description":"Timeout in seconds for ICMP connections."},"tcp_established_idle_timeout":{"type":"integer","default":120,"description":"Timeout in seconds for TCP established connections."},"tcp_transitory_idle_timeout":{"type":"integer","default":30,"description":"Timeout in seconds for TCP transitory connections."}}}},{"title":"All Primary Subnetworks","description":"Automatically nat all egress traffic from all primary subnetworks in this network","if":{"properties":{"subnetworks_to_nat":{"type":"string","const":"ALL_PRIMARY_SUBNETWORKS"}},"required":["subnetworks_to_nat"]},"then":{"type":"object","additionalProperties":false,"properties":{"endpoint_independent_mapping":{"title":"Endpoint Independent Mapping","type":"string","widget":"Select","enum":["ENABLED","DISABLED"],"description":"Enable endpoint-independent mapping for the NAT (as defined in RFC 5128).","default":"DISABLED"},"subnetworks_to_nat":{"type":"string","enum":["ALL_PRIMARY_SUBNETWORKS_ALL_SECONDARY_SUBNETWORKS","ALL_PRIMARY_SUBNETWORKS","DISABLED"],"default":"DISABLED"},"log_config":{"type":"string","widget":"Select","enum":["ALL","ERRORS_ONLY","TRANSLATIONS_ONLY","DISABLED"],"default":"DISABLED","description":"Enable logging for the NAT. Logs will be exported to Stackdriver."},"min_ports_per_vm":{"type":"integer","default":64,"description":"Minimum number of ports allocated to a VM from this NAT."},"udp_idle_timeout":{"type":"integer","default":30,"description":"Timeout in seconds for UDP connections."},"icmp_idle_timeout":{"type":"integer","default":30,"description":"Timeout in seconds for ICMP connections."},"tcp_established_idle_timeout":{"type":"integer","default":120,"description":"Timeout in seconds for TCP established connections."},"tcp_transitory_idle_timeout":{"type":"integer","default":30,"description":"Timeout in seconds for TCP transitory connections."}}}},{"title":"Selected Primary Subnetworks and Selected Secondary Subnetworks","description":"Allows you to select specific primary and secondary subnetworks to nat based on nat_group_id","if":{"properties":{"subnetworks_to_nat":{"type":"string","const":"SELECTED_PRIMARY_SUBNETWORKS_SELECTED_SECONDARY_SUBNETWORKS"}}},"then":{"type":"object","additionalProperties":false,"properties":{"subnetworks_to_nat":{"type":"string","enum":["SELECTED_PRIMARY_SUBNETWORKS_SELECTED_SECONDARY_SUBNETWORKS","DISABLED"],"default":"DISABLED"},"nat_groups":{"type":"array","widget":"SimpleList","minItems":0,"uniqueItems":true,"items":{"type":"object","required":["nat_group_id"],"properties":{"nat_group_id":{"type":"string"},"endpoint_independent_mapping":{"title":"Endpoint Independent Mapping","type":"string","widget":"Select","enum":["ENABLED","DISABLED"],"description":"Enable endpoint-independent mapping for the NAT (as defined in RFC 5128).","default":"DISABLED"},"log_config":{"type":"string","widget":"Select","enum":["ALL","ERRORS_ONLY","TRANSLATIONS_ONLY","DISABLED"],"default":"DISABLED","description":"Enable logging for the NAT. Logs will be exported to Stackdriver."},"min_ports_per_vm":{"type":"integer","default":64,"description":"Minimum number of ports allocated to a VM from this NAT."},"udp_idle_timeout":{"type":"integer","default":30,"description":"Timeout in seconds for UDP connections."},"icmp_idle_timeout":{"type":"integer","default":30,"description":"Timeout in seconds for ICMP connections."},"tcp_established_idle_timeout":{"type":"integer","default":120,"description":"Timeout in seconds for TCP established connections."},"tcp_transitory_idle_timeout":{"type":"integer","default":30,"description":"Timeout in seconds for TCP transitory connections."}}}}}}},{"title":"[DISABLED] All Primary and Secondary Sub","description":"Disabled placeholder for GENERIC cloud nat, when DISABLED nothing is configured within GCP","if":{"properties":{"subnetworks_to_nat":{"type":"string","const":"DISABLED"}}},"then":{"additionalProperties":false,"properties":{"subnetworks_to_nat":{"const":"DISABLED"}}}}]},"peers":{"title":"VPC Network Peers","description":"Collection of VPC Peers that enables you to connect VPC networks so that workloads in different VPC networks can communicate internally.","type":"array","widget":"SimpleList","uniqueItems":true,"items":{"title":"VPC Network Peer","type":"object","additionalProperties":false,"properties":{"project":{"title":"Project","description":"The name of the project for the peer network. If not specified, defaults to current project.","type":"string","examples":["remote-project-id"]},"network":{"title":"Peer Network","description":"The name of the network to be peered with the current network.","type":"string","examples":["prod-network"]},"export_custom_routes":{"title":"Export Custom Routes","description":"If true, the network will export custom routes to peer network.","type":"boolean","default":false},"import_custom_routes":{"title":"Import Custom Routes","description":"If true, the network will import custom routes from peer network.","type":"boolean","default":false},"import_subnet_routes_with_public_ip":{"title":"Import Subnet Routes with Public IP Addresses","description":"If true, the network will import subnet routes with addresses in the public IP ranges from peer network.","type":"boolean","default":false},"export_subnet_routes_with_public_ip":{"title":"Export Subnet Routes with Public IP Addresses","description":"If true, the network will export subnet routes with addresses in the public IP ranges from peer network.","type":"boolean","default":false}},"required":["network"],"examples":[{"network":"prod-network"},{"network":"dev-network","export_custom_routes":false,"import_custom_routes":true},{"network":"test-network","export_custom_routes":false,"import_custom_routes":true,"import_subnet_routes_with_public_ip":false,"export_subnet_routes_with_public_ip":true},{"project":"remote-project-id","network":"remote-network"}]},"examples":[[{"name":"......","peers":[{"network":"prod-network"},{"network":"dev-network","export_custom_routes":false,"import_custom_routes":true},{"project":"remote-project-id","network":"remote-network"}],"subnetworks":"......","routes":"......","firewall_rules":"....."}]]},"routes":{"type":"array","widget":"GenericList","uniqueItems":true,"minItems":0,"maxItems":100,"items":{"type":"object","title":"Static Route","properties":{"next_hop_type":{"type":"string","widget":"Select","description":"The type of route to be created.","enum":["INTERNET_GATEWAY","ADDRESS","INSTANCE","LOAD_BALANCER"],"default":"INTERNET_GATEWAY"}},"allOf":[{"title":"Next Hop Internet Gateway","if":{"properties":{"next_hop_type":{"type":"string","const":"INTERNET_GATEWAY"}},"required":["next_hop_type"]},"then":{"title":"Next Hop Internet Gateway","type":"object","required":["destination","next_hop_type"],"additionalProperties":false,"properties":{"name":{"title":"Name","type":"string","description":"if this field is not provided name value will be dynamically generated.","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63},"description":{"type":"string","description":"An optional, textual description for the route. "},"destination":{"title":"Destination CIDR Range","description":"The destination range of outgoing packets that the route will apply to.","type":"string","examples":["192.168.0.0/24"],"pattern":"^(?:([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])){3}/(([0-9]|[1-2][0-9]|3[0-2])))$"},"priority":{"title":"Priority","description":"Specifies the priority of this route relative to other routes with the same specificity. The lower the value, the higher the priority. ","type":"number","minimum":0,"maximum":2147483647,"default":1000},"tags":{"title":"Network Tags","description":"Identifies the set of instances that this route will apply to. If no tags are provided, the route will apply to all instances in the network. ","widget":"SimpleList","type":"array","uniqueItems":true,"items":{"title":"Tag","description":"Strings added to a tags field in a resource, such as Compute Engine virtual machine (VM) instances or instance templates. Tags enable you to make firewall rules and routes applicable to specific VM instances.","type":"string","pattern":"^([a-z]([a-z0-9-]*[a-z0-9])?)$","maxLength":63,"examples":["alpha-tag","bravo-tag","charlie-tag"]},"examples":[["alpha-tag","bravo-tag","charlie-tag"]]},"next_hop_type":{"const":"INTERNET_GATEWAY","type":"string","widget":"Select","description":"The type of route to be created.","enum":["INTERNET_GATEWAY","ADDRESS","INSTANCE","LOAD_BALANCER"],"default":"INTERNET_GATEWAY"}},"examples":[{"destination":"0.0.0.0/0","priority":0,"next_hop_type":"INTERNET_GATEWAY"},{"tags":["allow-internet"],"destination":"0.0.0.0/0","priority":0,"next_hop_type":"INTERNET_GATEWAY"}]}},{"title":"Next Hop Address","if":{"properties":{"next_hop_type":{"type":"string","const":"ADDRESS"}},"required":["next_hop_type"]},"then":{"title":"Next Hop Address","type":"object","required":["destination","next_hop_type","next_hop_address"],"additionalProperties":false,"properties":{"name":{"title":"Name","type":"string","description":"if this field is not provided name value will be dynamically generated.","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63},"description":{"type":"string","description":"An optional, textual description for the route. "},"destination":{"title":"Destination CIDR Range","description":"The destination range of outgoing packets that the route will apply to.","type":"string","examples":["192.168.0.0/24"],"pattern":"^(?:([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])){3}/(([0-9]|[1-2][0-9]|3[0-2])))$"},"priority":{"title":"Priority","description":"Specifies the priority of this route relative to other routes with the same specificity. The lower the value, the higher the priority. ","type":"number","minimum":0,"maximum":2147483647,"default":1000},"tags":{"title":"Network Tags","description":"Identifies the set of instances that this route will apply to. If no tags are provided, the route will apply to all instances in the network. ","widget":"SimpleList","type":"array","uniqueItems":true,"items":{"title":"Tag","description":"Strings added to a tags field in a resource, such as Compute Engine virtual machine (VM) instances or instance templates. Tags enable you to make firewall rules and routes applicable to specific VM instances.","type":"string","pattern":"^([a-z]([a-z0-9-]*[a-z0-9])?)$","maxLength":63,"examples":["alpha-tag","bravo-tag","charlie-tag"]},"examples":[["alpha-tag","bravo-tag","charlie-tag"]]},"next_hop_type":{"const":"ADDRESS","type":"string","widget":"Select","description":"The type of route to be created.","enum":["INTERNET_GATEWAY","ADDRESS","INSTANCE","LOAD_BALANCER"],"default":"INTERNET_GATEWAY"},"next_hop_address":{"type":"string","description":"IP Address.","examples":["192.168.0.0"],"pattern":"^(?:([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])){3})$"}},"examples":[{"tags":["rf1918-to-ngfw"],"destination":"192.168.0.0/16","priority":0,"next_hop_type":"ADDRESS","next_hop_address":"192.168.0.1"},{"tags":["rf1918-to-ngfw"],"destination":"172.16.0.0/12","priority":100,"next_hop_type":"ADDRESS","next_hop_address":"192.168.0.1"}]}},{"title":"Next Hop Load Balancer","if":{"properties":{"next_hop_type":{"type":"string","const":"LOAD_BALANCER"}},"required":["next_hop_type"]},"then":{"title":"Next Hop Load Balancer","type":"object","required":["destination","next_hop_type","next_hop_load_balancer_id"],"additionalProperties":false,"properties":{"name":{"title":"Name","type":"string","description":"if this field is not provided name value will be dynamically generated.","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63},"description":{"type":"string","description":"An optional, textual description for the route. "},"destination":{"title":"Destination CIDR Range","description":"The destination range of outgoing packets that the route will apply to.","type":"string","examples":["192.168.0.0/24"],"pattern":"^(?:([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])){3}/(([0-9]|[1-2][0-9]|3[0-2])))$"},"priority":{"title":"Priority","description":"Specifies the priority of this route relative to other routes with the same specificity. The lower the value, the higher the priority. ","type":"number","minimum":0,"maximum":2147483647,"default":1000},"tags":{"title":"Network Tags","description":"Identifies the set of instances that this route will apply to. If no tags are provided, the route will apply to all instances in the network. ","widget":"SimpleList","type":"array","uniqueItems":true,"items":{"title":"Tag","description":"Strings added to a tags field in a resource, such as Compute Engine virtual machine (VM) instances or instance templates. Tags enable you to make firewall rules and routes applicable to specific VM instances.","type":"string","pattern":"^([a-z]([a-z0-9-]*[a-z0-9])?)$","maxLength":63,"examples":["alpha-tag","bravo-tag","charlie-tag"]},"examples":[["alpha-tag","bravo-tag","charlie-tag"]]},"next_hop_type":{"const":"LOAD_BALANCER","type":"string","widget":"Select","description":"The type of route to be created.","enum":["INTERNET_GATEWAY","ADDRESS","INSTANCE","LOAD_BALANCER"],"default":"INTERNET_GATEWAY"},"next_hop_load_balancer_id":{"title":"Next Hop Load Balancer","type":"string","description":"Target Load Balancer that traffic should be routed to. Expected format is projects/<project_id>/regions/<region>/forwardingRules/<resource_id>","pattern":"^(projects/.*/regions/.*/forwardingRules/.*)$"}},"examples":[{"tags":["rf1918-to-ngfw"],"destination":"192.168.0.0/16","priority":0,"next_hop_type":"LOAD_BALANCER","next_hop_load_balancer_id":"projects/example-project/regions/us-central1/forwardingRules/example-load-balancer"}]}},{"title":"Next Hop Instance","if":{"properties":{"next_hop_type":{"type":"string","const":"INSTANCE"}},"required":["next_hop_type"]},"then":{"title":"Next Hop Instance","type":"object","required":["destination","next_hop_type","next_hop_instance","next_hop_instance_zone"],"additionalProperties":false,"properties":{"name":{"title":"Name","type":"string","description":"if this field is not provided name value will be dynamically generated.","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63},"description":{"type":"string","description":"An optional, textual description for the route. "},"destination":{"title":"Destination CIDR Range","description":"The destination range of outgoing packets that the route will apply to.","type":"string","examples":["192.168.0.0/24"],"pattern":"^(?:([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])(\\.([0-9]|[1-9][0-9]{0,1}|1[0-9]{1,2}|2[0-4][0-9]|25[0-5])){3}/(([0-9]|[1-2][0-9]|3[0-2])))$"},"priority":{"title":"Priority","description":"Specifies the priority of this route relative to other routes with the same specificity. The lower the value, the higher the priority. ","type":"number","minimum":0,"maximum":2147483647,"default":1000},"tags":{"title":"Network Tags","description":"Identifies the set of instances that this route will apply to. If no tags are provided, the route will apply to all instances in the network. ","widget":"SimpleList","type":"array","uniqueItems":true,"items":{"title":"Tag","description":"Strings added to a tags field in a resource, such as Compute Engine virtual machine (VM) instances or instance templates. Tags enable you to make firewall rules and routes applicable to specific VM instances.","type":"string","pattern":"^([a-z]([a-z0-9-]*[a-z0-9])?)$","maxLength":63,"examples":["alpha-tag","bravo-tag","charlie-tag"]},"examples":[["alpha-tag","bravo-tag","charlie-tag"]]},"next_hop_type":{"const":"INSTANCE","type":"string","widget":"Select","description":"The type of route to be created.","enum":["INTERNET_GATEWAY","ADDRESS","INSTANCE","LOAD_BALANCER"],"default":"INTERNET_GATEWAY"},"next_hop_instance":{"title":"Next Hop Instance","type":"string"},"next_hop_instance_zone":{"title":"Next Hop Instance Zone","type":"string","widget":"Select","examples":["US-CENTRAL1-A"],"default":"US-CENTRAL1-A","enum":["ASIA-EAST1-A","ASIA-EAST1-B","ASIA-EAST1-C","ASIA-EAST2-A","ASIA-EAST2-B","ASIA-EAST2-C","ASIA-NORTHEAST1-A","ASIA-NORTHEAST1-B","ASIA-NORTHEAST1-C","ASIA-NORTHEAST2-A","ASIA-NORTHEAST2-B","ASIA-NORTHEAST2-C","ASIA-NORTHEAST3-A","ASIA-NORTHEAST3-B","ASIA-NORTHEAST3-C","ASIA-SOUTH1-A","ASIA-SOUTH1-B","ASIA-SOUTH1-C","ASIA-SOUTH2-A","ASIA-SOUTH2-B","ASIA-SOUTH2-C","ASIA-SOUTHEAST1-A","ASIA-SOUTHEAST1-B","ASIA-SOUTHEAST1-C","ASIA-SOUTHEAST2-A","ASIA-SOUTHEAST2-B","ASIA-SOUTHEAST2-C","AUSTRALIA-SOUTHEAST1-A","AUSTRALIA-SOUTHEAST1-B","AUSTRALIA-SOUTHEAST1-C","AUSTRALIA-SOUTHEAST2-A","AUSTRALIA-SOUTHEAST2-B","AUSTRALIA-SOUTHEAST2-C","EUROPE-CENTRAL2-A","EUROPE-CENTRAL2-B","EUROPE-CENTRAL2-C","EUROPE-NORTH1-A","EUROPE-NORTH1-B","EUROPE-NORTH1-C","EUROPE-WEST1-B","EUROPE-WEST1-C","EUROPE-WEST1-D","EUROPE-WEST2-A","EUROPE-WEST2-B","EUROPE-WEST2-C","EUROPE-WEST3-A","EUROPE-WEST3-B","EUROPE-WEST3-C","EUROPE-WEST4-A","EUROPE-WEST4-B","EUROPE-WEST4-C","EUROPE-WEST6-A","EUROPE-WEST6-B","EUROPE-WEST6-C","NORTHAMERICA-NORTHEAST1-A","NORTHAMERICA-NORTHEAST1-B","NORTHAMERICA-NORTHEAST1-C","NORTHAMERICA-NORTHEAST2-A","NORTHAMERICA-NORTHEAST2-B","NORTHAMERICA-NORTHEAST2-C","SOUTHAMERICA-EAST1-A","SOUTHAMERICA-EAST1-B","SOUTHAMERICA-EAST1-C","US-CENTRAL1-A","US-CENTRAL1-B","US-CENTRAL1-C","US-CENTRAL1-F","US-EAST1-B","US-EAST1-C","US-EAST1-D","US-EAST4-A","US-EAST4-B","US-EAST4-C","US-WEST1-A","US-WEST1-B","US-WEST1-C","US-WEST2-A","US-WEST2-B","US-WEST2-C","US-WEST3-A","US-WEST3-B","US-WEST3-C","US-WEST4-A","US-WEST4-B","US-WEST4-C"]}},"examples":[{"tags":["rf1918-to-ngfw"],"destination":"192.168.0.0/16","priority":0,"next_hop_type":"INSTANCE","next_hop_instance":"MY-INSTANCE","next_hop_instance_zone":"US-CENTRAL1-A"}]}}]},"examples":[[{"name":"......","subnetworks":"......","routes":[{"tags":["allow-internet"],"destination":"0.0.0.0/0","priority":0,"next_hop_type":"INTERNET_GATEWAY"},{"tags":["rf1918-to-ngfw"],"destination":"192.168.0.0/16","priority":0,"next_hop_type":"ADDRESS","next_hop_address":"192.168.0.1"},{"tags":["rf1918-to-ngfw"],"destination":"172.16.0.0/12","priority":100,"next_hop_type":"ADDRESS","next_hop_address":"192.168.0.1"}],"firewall_rules":"......"}]]},"firewall_rules":{"type":"array","widget":"GenericList","uniqueItems":true,"minItems":0,"maxItems":100,"items":{"type":"object","title":"Firewall Rule","properties":{"direction":{"type":"string","widget":"Select","enum":["INGRESS","EGRESS"],"default":"INGRESS"}},"allOf":[{"title":"Ingress Rule","description":"Words go here","if":{"properties":{"direction":{"type":"string","const":"INGRESS"}},"required":["direction"]},"then":{"title":"Ingress Firewall Rule","description":"wors go here","type":"object","additionalProperties":false,"properties":{"name":{"title":"Name","type":"string","description":"Words go here, IF not specified name will based on id field","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63,"examples":["<prefix>-<environment>-<network>-subnet-<192-168-0-0-24>"]},"id":{"title":"Id","type":"string","description":"Words go here, IF not specified name will based on id field","pattern":"^[a-z][a-z0-9-]{0,23}$","minLength":1,"maxLength":24,"examples":["<prefix>-<environment>-<network>-subnet-<192-168-0-0-24>"]},"description":{"title":"Description","type":"string","description":"Words go here, IF not specified name will based on id field","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63,"examples":["<prefix>-<environment>-<network>-subnet-<192-168-0-0-24>"]},"direction":{"title":"Direction","const":"INGRESS","type":"string","widget":"Select","enum":["INGRESS","EGRESS"],"default":"INGRESS"},"action":{"title":"Action","type":"string","widget":"Select","enum":["ALLOW","DENY"]},"sources":{},"targets":{},"rules":{"type":"array","widget":"SimpleList","uniqueItems":true,"minItems":1,"items":{"type":"object","properties":{"protocol":{"title":"IP Protocol","type":"string","widget":"Select","enum":["ALL","AH","ESP","ICMP","IPIP","SCTP","TCP","UDP"],"default":"ALL"}},"allOf":[{"if":{"properties":{"protocol":{"type":"string","pattern":"^(TCP|UDP)$"}},"required":["protocol"]},"then":{"type":"object","title":"TCP/UDP Rule","additionalProperties":false,"properties":{"protocol":{"enum":["TCP","UDP"],"title":"IP Protocol","type":"string","widget":"Select","default":"ALL"},"ports":{"minItems":0,"title":"Port Numbers","description":"Specified ports to be either allowed or denied","type":"array","widget":"SimpleList","uniqueItems":true,"items":{"type":"number","minimum":0,"maximum":65535}},"port_ranges":{"minItems":0,"title":"Port Ranges","description":"Ranges of ports to be either allowed or denied","type":"array","widget":"SimpleList","uniqueItems":true,"items":{"type":"string","pattern":"^(0|6[0-5][0-5][0-3][0-5]|[1-5][0-9][0-9][0-9][0-9]|[1-9][0-9]{0,3})-(6[0-5][0-5][0-3][0-5]|[1-5][0-9][0-9][0-9][0-9]|[1-9][0-9]{0,3})$"}}},"anyOf":[{"required":["protocol","ports"]},{"required":["protocol","port_ranges"]}]}},{"if":{"properties":{"protocol":{"type":"string","pattern":"^(ALL|ICMP|ESP|AH|SCTP|IPIP)$"}},"required":["protocol"]},"then":{"type":"object","title":"Other Named Protocol Rule","additionalProperties":false,"required":["protocol"],"properties":{"protocol":{"enum":["ALL","ICMP","ESP","AH","SCTP","IPIP"],"title":"IP Protocol","type":"string","widget":"Select","default":"ALL"}}}}]}}},"oneOf":[{"required":["name","rules","sources","targets"]},{"required":["id","rules","sources","targets"]}]}},{"title":"Egress Rule","description":"Words go here","if":{"properties":{"direction":{"type":"string","const":"EGRESS"}},"required":["direction"]},"then":{"title":"Egress Firewall Rule","description":"wors go here","type":"object","additionalProperties":false,"properties":{"name":{"type":"string","description":"Words go here, IF not specified name will based on id field","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63,"examples":["<prefix>-<environment>-<network>-subnet-<192-168-0-0-24>"]},"id":{"type":"string","description":"Words go here, IF not specified name will based on id field","pattern":"^[a-z][a-z0-9-]{0,23}$","minLength":1,"maxLength":24,"examples":["<prefix>-<environment>-<network>-subnet-<192-168-0-0-24>"]},"description":{"type":"string","description":"Words go here, IF not specified name will based on id field","pattern":"^(?:[a-z](?:[-a-z0-9]{0,61}[a-z0-9])?)$","minLength":1,"maxLength":63,"examples":["<prefix>-<environment>-<network>-subnet-<192-168-0-0-24>"]},"direction":{"const":"EGRESS","type":"string","widget":"Select","enum":["INGRESS","EGRESS"],"default":"INGRESS"},"action":{"type":"string","widget":"Select","enum":["ALLOW","DENY"]},"sources":{},"targets":{},"rules":{"type":"array","widget":"SimpleList","uniqueItems":true,"minItems":1,"items":{"type":"object","properties":{"protocol":{"title":"IP Protocol","type":"string","widget":"Select","enum":["ALL","AH","ESP","ICMP","IPIP","SCTP","TCP","UDP"],"default":"ALL"}},"allOf":[{"if":{"properties":{"protocol":{"type":"string","pattern":"^(TCP|UDP)$"}},"required":["protocol"]},"then":{"type":"object","title":"TCP/UDP Rule","additionalProperties":false,"properties":{"protocol":{"enum":["TCP","UDP"],"title":"IP Protocol","type":"string","widget":"Select","default":"ALL"},"ports":{"minItems":0,"title":"Port Numbers","description":"Specified ports to be either allowed or denied","type":"array","widget":"SimpleList","uniqueItems":true,"items":{"type":"number","minimum":0,"maximum":65535}},"port_ranges":{"minItems":0,"title":"Port Ranges","description":"Ranges of ports to be either allowed or denied","type":"array","widget":"SimpleList","uniqueItems":true,"items":{"type":"string","pattern":"^(0|6[0-5][0-5][0-3][0-5]|[1-5][0-9][0-9][0-9][0-9]|[1-9][0-9]{0,3})-(6[0-5][0-5][0-3][0-5]|[1-5][0-9][0-9][0-9][0-9]|[1-9][0-9]{0,3})$"}}},"anyOf":[{"required":["protocol","ports"]},{"required":["protocol","port_ranges"]}]}},{"if":{"properties":{"protocol":{"type":"string","pattern":"^(ALL|ICMP|ESP|AH|SCTP|IPIP)$"}},"required":["protocol"]},"then":{"type":"object","title":"Other Named Protocol Rule","additionalProperties":false,"required":["protocol"],"properties":{"protocol":{"enum":["ALL","ICMP","ESP","AH","SCTP","IPIP"],"title":"IP Protocol","type":"string","widget":"Select","default":"ALL"}}}}]}}},"oneOf":[{"required":["name","rules","sources","targets"]},{"required":["id","rules","sources","targets"]}]}}]}},"cloud_vpns":{"title":"HA Cloud VPNs","description":"Coming Soon","type":"array","items":{}}}},"examples":[[{"name":"network-single","description":"This will create a single VPC Network and nothing else"}],[{"name":"network-alpha","description":"This will create a network alpha and nothing else"},{"name":"network-bravo","description":"This will create a network bravo and nothing else"}],[{"name":"subnetwork-secondary-subnetworks","description":"This will create a single VPC Network, Primary Subnetwork and two Secondary Ranges","subnetworks":[{"region":"US-EAST4","ip_cidr_range":"172.16.0.0/24","secondary_subnetworks":[{"ip_cidr_range":"172.16.1.0/24"},{"ip_cidr_range":"172.16.2.0/24"}]}]}],[{"name":"cloud-nat-all","description":"This will create a single VPC Network with Primary and Secondary Subnetworks with Cloud-NAT","routing_mode":"GLOBAL","cloud_nat":{"subnetworks_to_nat":"ALL_PRIMARY_SUBNETWORKS_ALL_SECONDARY_SUBNETWORKS"},"subnetworks":[{"region":"US-WEST1","ip_cidr_range":"172.16.32.0/24","secondary_subnetworks":[{"ip_cidr_range":"10.20.32.0/24"},{"ip_cidr_range":"10.20.33.0/24"}]}]}]]}